<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>plannest - Atividades</title>
  <link rel="stylesheet" href="atividades.css" />
  <link rel="shortcut icon" href="imagens/favicon.png" type="image/x-icon" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <header class="menu1">
    <button class="menu-toggle" aria-label="Abrir menu">&#9776;</button>
    <a href="index.html"><img height="30px" src="imagens/plannest.png" /></a>
    <nav class="links" id="nav-links">
      <ul class="nav-itens">
        <li><a href="index.html" class="home">Início</a></li>
        <li><a href="index.html#paginas"><span>Páginas</span></a></li>
        <li><a href="services.html">Sugestões</a></li>
        <li><a href="feedbeck.html">Avaliar</a></li>
        <li><a href="contato.html">Fale conosco</a></li>
        <li><button class="login-li"><a class="link-login-li" href="login.html">Login</a></button></li>
        <li><button class="cadastro-li"><a class="link-cadastro-li" href="cadastro.html" style="color: white;">Cadastro</a></button></li>
      </ul>
    </nav>
    <div class="btn">
      <button class="login-1"><a class="link-login" href="login.html">Login</a></button>
      <button class="cadastro"><a href="cadastro.html" class="link-cadastro">Cadastro</a></button>
    </div>
  </header>

  <br><br><br>

  <h1 class="tittle">Suas atividades de classe</h1>

  <div class="container">
    <div class="tab-box">
      <button class="tab-btn">Disciplinas</button>
      <button class="tab-btn">Desempenho</button>
      <div class="line"></div>
    </div>
    <div class="content-box">
      <div class="content">
        <section class="slide2">
          <div class="slide2-part2">
            <img src="imagens/ilustrações.png" alt="" />
            <div class="cards">
              <!-- Primeira linha de matérias -->
              <section class="card agenda"><a href="materias/artes.html"><img src="imagens/artes.png" class="icon ling"/><h3 class="materia">Artes</h3></a></section>
              <section class="card atividades"><a href="materias/biologia.html"><img src="imagens/biologia.png" class="icon nat"/><h3 class="materia">Biologia</h3></a></section>
              <section class="card material"><a href="materias/edfisica.html"><img src="imagens/edfisica.png" class="icon ling"/><h3 class="materia">Ed. Física</h3></a></section>
              <section class="card material"><a href="materias/espanhol.html"><img src="imagens/linguas.png" class="icon ling"/><h3 class="materia">Espanhol</h3></a></section>
              <section class="card material"><a href="materias/filo.html"><img src="imagens/lampada.png" class="icon hum"/><h3 class="materia filo">Filosofia e<br>Sociologia</h3></a></section>
              <section class="card material"><a href="materias/fisica.html"><img src="imagens/fisica.png" class="icon nat"/><h3 class="materia">Física</h3></a></section>
            </div>
            <div class="cards" id="cards2">
              <!-- Segunda linha de matérias -->
              <section class="card material"><a href="materias/geografia.html"><img src="imagens/geografia.png" class="icon hum"/><h3 class="materia">Geografia</h3></a></section>
              <section class="card agenda"><a href="materias/historia.html"><img src="imagens/historia.png" class="icon hum"/><h3 class="materia">História</h3></a></section>
              <section class="card atividades"><a href="materias/ingles.html"><img src="imagens/linguas.png" class="icon ling"/><h3 class="materia">Inglês</h3></a></section>
              <section class="card material"><a href="materias/matematica.html"><img src="imagens/matematica.png" class="icon nat"/><h3 class="materia">Matemática</h3></a></section>
              <section class="card material"><a href="materias/portugues.html"><img src="imagens/portugues.png" class="icon ling"/><h3 class="materia">Português</h3></a></section>
              <section class="card material"><a href="materias/quimica.html"><img src="imagens/quimica.png" class="icon nat"/><h3 class="materia">Química</h3></a></section>
            </div>
          </div>
        </section>
      </div>

        <div class="content">
            <section class="slide2">
                <div class="graficos-container">
                    <div><canvas id="chartArtes"></canvas></div>
                    <div><canvas id="chartBiologia"></canvas></div>
                    <div><canvas id="chartEdFisica"></canvas></div>
                    <div><canvas id="chartEspanhol"></canvas></div>
                    <div><canvas id="chartFilosofiaSociologia"></canvas></div>
                    <div><canvas id="chartFisica"></canvas></div>
                    <div><canvas id="chartGeografia"></canvas></div>
                    <div><canvas id="chartHistoria"></canvas></div>
                    <div><canvas id="chartIngles"></canvas></div>
                    <div><canvas id="chartMatematica"></canvas></div>
                    <div><canvas id="chartPortugues"></canvas></div>
                    <div><canvas id="chartQuimica"></canvas></div>
                </div>
            </section>
        </div>

    </div>
  </div>

  <br><br><br>

  <footer>
    <section class="newsletter">
      <h2>Quer organizar melhor sua rotina?</h2>
      <p>Inscreva-se na nossa newsletter e receba dicas exclusivas de planejamento e produtividade diretamente no seu e-mail:</p>
      <div class="newsletter-form">
        <input type="email" placeholder="Digite seu e-mail" />
        <button>Cadastrar</button>
      </div>
    </section>
    <div class="footer-content">
      <div class="footer-logo">
        <img height="40px" class="logo-footer" src="imagens/plannest.png" alt="" />
        <p>Transforme sua rotina com ferramentas de planejamento simples e eficazes.</p>
      </div>
      <div class="footer-links">
        <div>
          <h4>Links úteis</h4>
          <ul><li><a href="#">Blog</a></li><li><a href="#">Sobre nós</a></li><li><a href="#">Ferramentas</a></li></ul>
        </div>
        <div>
          <h4>Serviços</h4>
          <ul><li><a href="#">Planejamento Pessoal</a></li><li><a href="#">Gestão de Tarefas</a></li><li><a href="#">Calendário Online</a></li><li><a href="#">Consultoria</a></li></ul>
        </div>
        <div>
          <h4>Suporte</h4>
          <ul><li><a href="#">Fale conosco</a></li><li><a href="#">Envie um e-mail</a></li><li><a href="#">Central de ajuda</a></li><li><a href="#">FAQ</a></li></ul>
        </div>
        <div class="social">
          <h4>Siga-nos</h4>
          <div class="icons">
            <a href="#"><img src="imagens/instagram.png" alt="Instagram" /></a>
            <a href="#"><img src="imagens/linkedin.png" alt="LinkedIn" /></a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>Plannest 2025 © Todos os direitos reservados</p>
    </div>
  </footer>

  <script src="menu-toggle.js"></script>
  <script>
    const tabs = document.querySelectorAll('.tab-btn');
    const all_content = document.querySelectorAll('.content');
    const charts = {};
    const materias = {
      'Artes': 'atividadesArtes',
      'Biologia': 'atividadesBiologia',
      'EdFisica': 'atividadesEdFisica',
      'Espanhol': 'atividadesEspanhol',
      'FilosofiaSociologia': 'atividadesFilosofiaSociologia',
      'Fisica': 'atividadesFisica',
      'Geografia': 'atividadesGeografia',
      'Historia': 'atividadesHistoria',
      'Ingles': 'atividadesIngles',
      'Matematica': 'atividadesMatematica',
      'Portugues': 'atividadesPortugues',
      'Quimica': 'atividadesQuimica'
    };

    function calcularPorcentagemConclusao(materiaKey) {
      const atividades = JSON.parse(localStorage.getItem(materiaKey)) || [];
      const total = atividades.length;
      if (total === 0) return 0;
      const concluidas = atividades.filter(a => a.concluida).length;
      return (concluidas / total) * 100;
    }

    function criarOuAtualizarGrafico(nome, key) {
      const ctx = document.getElementById('chart' + nome).getContext('2d');
      const concluido = calcularPorcentagemConclusao(key);
      const pendente = 100 - concluido;
      if (charts[nome]) charts[nome].destroy();
      charts[nome] = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Concluídas', 'Pendentes'],
          datasets: [{
            data: [concluido, pendente],
            backgroundColor: ['#5ca3a5', '#f5c542']
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
              display: true,
              text: nome.replace(/([A-Z])/g, ' $1').trim(),
              font: { size: 16 }
            },
            tooltip: {
              callbacks: {
                label: ctx => `${ctx.label}: ${ctx.parsed.toFixed(2)}%`
              }
            }
          }
        }
      });
    }

    function renderizarGraficosDesempenho() {
      for (const nome in materias) {
        criarOuAtualizarGrafico(nome, materias[nome]);
      }
    }

    function activateInitialTab() {
      tabs[0].classList.add('active');
      all_content[0].classList.add('active');
      const line = document.querySelector('.line');
      line.style.width = tabs[0].offsetWidth + 'px';
      line.style.left = tabs[0].offsetLeft + 'px';
    }

    window.addEventListener('DOMContentLoaded', () => {
      activateInitialTab();
    });

    tabs.forEach((tab, i) => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        const line = document.querySelector('.line');
        line.style.width = tab.offsetWidth + 'px';
        line.style.left = tab.offsetLeft + 'px';
        all_content.forEach(c => c.classList.remove('active'));
        all_content[i].classList.add('active');
        if (tab.textContent === 'Desempenho') renderizarGraficosDesempenho();
      });
    });
  </script>
</body>
</html>
